<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: main.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Hämtar en cocktail från CocktailDB baserat på ett namn.
 * @param {string} cocktailName - Namnet på drinken att söka efter.
 * @returns {Promise&lt;Object|null>} - Ett cocktailobjekt eller null om inget hittas.
 */
async function fetchCocktail(cocktailName) {
    const url = `https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${cocktailName}`;
    const response = await fetch(url);
    const data = await response.json();
    return data.drinks ? data.drinks[0] : null;
  }
  
  /**
   * Hämtar en GIF från Giphy baserat på ett sökord.
   * @param {string} searchTerm - Termen att söka efter i Giphy.
   * @returns {Promise&lt;string|null>} - URL till en GIF, null om inget hittas.
   */
  async function fetchGif(searchTerm) {
    const apiKey = "k06lejMAsmzUXzhEg8Syt3mLtuL5VCQc"; // Egenskapad API från Giphy
    const url = `https://api.giphy.com/v1/gifs/search?api_key=${apiKey}&amp;q=${searchTerm}&amp;limit=1`;
    const response = await fetch(url);
    const data = await response.json();
    return data.data.length > 0 ? data.data[0].images.fixed_height.url : null;
  }
  
  /**
   * Visar resultatet (drink + gif) i DOM:en.
   * @param {Object} cocktail - Cocktail-objektet.
   * @param {string} gifUrl - URL till en gif.
   */
  function displayResult(cocktail, gifUrl) {
    const resultContainer = document.getElementById("result");
    resultContainer.innerHTML = "";
  
    if (!cocktail) {
      resultContainer.innerHTML = "&lt;p>Ingen drink hittades.&lt;/p>";
      return;
    }
    // Titel
    const title = document.createElement("h2");
    title.textContent = cocktail.strDrink;
  
    // Bild
    const image = document.createElement("img");
    image.src = cocktail.strDrinkThumb;
    image.alt = cocktail.strDrink;
  
    // Beskrinving
    const instructions = document.createElement("p");
    instructions.textContent = cocktail.strInstructions;
  
    // Recept
    const ingredientList = document.createElement("ul");
    ingredientList.classList.add("ingredients");

    for (let i = 1; i &lt;= 15; i++) { // Loopa igenom alla möjliga ingrediensfält, API:et har max 15 st
        const ingredient = cocktail[`strIngredient${i}`];
        const measure = cocktail[`strMeasure${i}`];
    if (ingredient) {
        const li = document.createElement("li");
        li.textContent = `${measure || ""} ${ingredient}`;
        ingredientList.appendChild(li);
        }
    }

    resultContainer.appendChild(title);
    resultContainer.appendChild(image);
    resultContainer.appendChild(instructions);
    resultContainer.appendChild(ingredientList);
  
    // GIF
    if (gifUrl) {
      const gif = document.createElement("img");
      gif.src = gifUrl;
      gif.alt = "Drink GIF";
      gif.classList.add("gif"); 
      resultContainer.appendChild(gif);
    }
  }
  
  /**
   * Lyssnar på klick på sökknappen och triggar mashup-hämtning.
   */
  document.addEventListener("DOMContentLoaded", () => {
    const searchButton = document.querySelector(".search_button");
    const inputField = document.querySelector(".drinkInput");
  
    searchButton.addEventListener("click", async () => {
      const searchTerm = inputField.value.trim();
      if (!searchTerm) return;
  
      const cocktail = await fetchCocktail(searchTerm);
      const gifUrl = await fetchGif(searchTerm);
      displayResult(cocktail, gifUrl);

      inputField.value = ""; // Rensa sökfällt efter klick 
    });
  });
  </code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#displayResult">displayResult</a></li><li><a href="global.html#fetchCocktail">fetchCocktail</a></li><li><a href="global.html#fetchGif">fetchGif</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Aug 17 2025 22:55:14 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
