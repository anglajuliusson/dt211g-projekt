async function fetchData(){try{let t=await fetch("https://studenter.miun.se/~mallar/dt211g/");if(!t.ok)throw Error(`HTTP-fel! Status: ${t.status}`);let a=await t.json();return console.log("Hämtad data:",a),a}catch(t){return console.error("Ett fel uppstod vid hämtning:",t),[]}}function getTopCourses(t){let a=t.filter(t=>"Kurs"===t.type).map(t=>({name:t.name,applicantsTotal:t.applicantsTotal})).sort((t,a)=>a.applicantsTotal-t.applicantsTotal).slice(0,6);return console.log("De 6 mest sökta kurserna:",a),a}function createBarChart(t){let a=document.querySelector(".courseChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:t.map(t=>t.name),datasets:[{label:"Antal sökande",data:t.map(t=>t.applicantsTotal),backgroundColor:"white",borderColor:"white",borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Antal sökande"}},x:{title:{display:!0,text:"Kurser"}}}}})}function getTopPrograms(t){let a=t.filter(t=>"Program"===t.type).map(t=>({name:t.name,applicantsTotal:t.applicantsTotal})).sort((t,a)=>a.applicantsTotal-t.applicantsTotal).slice(0,5);return console.log("De 5 mest sökta kurserna:",a),a}function createPieChart(t){let a=document.querySelector(".programChart").getContext("2d");new Chart(a,{type:"pie",data:{labels:t.map(t=>t.name),datasets:[{label:"Antal sökande",data:t.map(t=>t.applicantsTotal),backgroundColor:["white","lightgrey","grey","darkgrey","black"],borderColor:["white","lightgrey","grey","darkgrey","black"],borderWidth:1}]},options:{responsive:!0,plugins:{title:{display:!0}}}})}async function main(){try{let t=await fetchData(),a=getTopCourses(t),e=getTopPrograms(t);createBarChart(a),createPieChart(e)}catch(t){console.error("Ett fel uppstod:",t)}}window.onload=main;
//# sourceMappingURL=diagram.fd74fdd7.js.map
